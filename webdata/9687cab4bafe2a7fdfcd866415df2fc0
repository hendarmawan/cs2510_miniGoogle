<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>VC Server</title>
</head>

<body>

<div align="center">
	<center>
	<table style="BORDER-COLLAPSE: collapse" borderColor="#111111" height="1" cellSpacing="0" cellPadding="0" width="600" id="table1">
		<tr>
			<td width="594" height="34"><font face="Arial">
			<a href="http://www.cs.pitt.edu/~flying/index.htm">Home</a>&gt;<a href="../../index.htm">CVC</a>&gt;VC 
			Server</font></td>
		</tr>
		<tr>
			<td width="594" height="34">
			<p class="MsoNormal" style="LINE-HEIGHT: 150%; TEXT-ALIGN: center" align="center">
			<font face="Arial"><b>
			<span style="FONT-SIZE: 14pt; LINE-HEIGHT: 150%">VC Communication 
			Server</span></b></font></td>
		</tr>
		<tr>
			<td width="594" height="468">
			<p class="MsoNormal" style="line-height: 150%" align="left">
			<img border="0" src="SystemDiagram.JPG" width="688" height="318"></p>
			<p align="center"><font face="Arial">Figure 1: VC System Diagram</font></p>
			<p class="MsoNormal" style="line-height: 150%" align="left">
			<font face="Arial"><span style="font-size: 14pt; line-height: 150%">
			How does VC System work?</span></font></p>
			<p align="justify"><font face="Arial"><b><font color="#800000">Step1</font></b>: 
			When client tools (Teacher or Student Client) start up, they will 
			first authenticate&nbsp;&nbsp; with Name Server. If pass, the name 
			server will provide the address and port of VC server according to 
			the course users selected.</font></p>
			<p align="justify"><font face="Arial">
			<font color="#800000" face="Arial"><b>Step2</b></font>: The 
			following communication is between the clients and the VC server. No 
			direct communication among clients. The VC server maintains a list of all 
			active clients, and broadcasts all the incoming message sent by 
			clients.&nbsp; </font></p>
			<p align="justify"><font face="Arial">
			<font color="#800000" face="Arial"><b>Step3</b></font>: When a 
			client exits, a message will be sent to VC server. The server will 
			relay this message as well as others. So all other clients will know 
			that he/she left. </font></p>
			<p align="left" class="MsoNormal" style="line-height: 150%">
			<font face="Arial">Note: There must be a single Name Sever in the VC 
			system, however, there could be multiple VC servers (for different 
			courses</font>). </p>
			<p align="left" class="MsoNormal" style="line-height: 150%">
			<font face="Arial"><span style="font-size: 14pt; line-height: 150%">
			Working Procedure of VC Server</span></font></p>
			<p align="justify">Procedure <b>VCServerStart()</b> {</p>
			<blockquote>
				<p align="justify">Register Address/Port with Name Server;</p>
				<p align="justify">While (Listen for incoming message) {</p>
				<blockquote>
					<p align="justify">Switch (<b>Message.Type</b>)</p>
					<blockquote>
						<p align="justify">// the client just passed 
						authentication </p>
						<p align="justify">Case <b>Login Message</b>:</p>
						<p align="justify">&nbsp;&nbsp; Add Client Name into 
						list;</p>
						<p align="justify">&nbsp;&nbsp; Generate signature for 
						the client;</p>
						<p align="justify">&nbsp;&nbsp; send the signature back 
						to client;</p>
						<p align="justify">&nbsp;&nbsp; //for updating Visual 
						Classroom;</p>
						<p align="justify">&nbsp;&nbsp; send the active user 
						list to client;</p>
						<p align="justify">&nbsp;&nbsp; break;</p>
						<p align="justify">Case <b>Other Messages</b>:</p>
						<p align="justify">&nbsp;&nbsp; check the signature of 
						message;</p>
						<p align="justify">&nbsp;&nbsp; lookup client name by 
						the signature;</p>
						<p align="justify">&nbsp;&nbsp; Add name into the 
						messages;</p>
						<p align="justify">&nbsp;&nbsp; broadcast the message to 
						all clients;</p>
						<p align="justify">&nbsp;&nbsp; break;</p>
					</blockquote>
				</blockquote>
				<p align="justify">}//end of while</p>
			</blockquote>
			<p align="justify">}//end of procedure</p>
			<hr color="#808080">
			<table cellSpacing="0" cellPadding="0" width="593" border="0" id="table2">
				<tr>
					<td width="573"><span class="negl">Updated:
					<!--webbot bot="Timestamp" s-type="EDITED" s-format="%m/%d/%Y" startspan -->10/17/2005<!--webbot bot="Timestamp" endspan i-checksum="12607" -->
					</span></td>
					<td width="20"><span class="negl">
<SCRIPT language=JavaScript src="http://m1.nedstatbasic.net/basic.js" 
type=text/javascript></SCRIPT>
					<a target="_blank" href="http://www.nedstatbasic.net/stats?ACr87g1ajNTqzWDBUCeAQEwlWIsw">
					<img height="18" alt="Web page Counter" src="http://m1.nedstatbasic.net/n?id=ACr87g1ajNTqzWDBUCeAQEwlWIsw" width="18" border="0"></a></span></td>
				</tr>
			</table>
			</td>
		</tr>
	</table>
	</center></div>

</body>

</html>
